import{r as u,g as C,I as x,c as i,o as l,a as s,k as M,b as w,n as _,F as g,C as z,t as B,z as E,$ as L,h as R}from"./index-DkYXykne.js";const $={class:"relative my-auto z"},A=["disabled"],S=["onClick"],W={key:0,class:"w-full h-px bg-gray-200"},F={__name:"ActionMenu",props:{actions:{type:Array,required:!0,validator:a=>a.every(r=>typeof r=="object"&&r.label&&r.handler)},disabled:{type:Boolean,default:!1}},setup(a){const r=a,o=u(!1),f=u(null),m=u(null),v=u({top:"0px",left:"0px"}),k=()=>{o.value=!o.value,o.value&&R(()=>{h()})},y=t=>{t.handler(),o.value=!1},b=t=>{const n=f.value,e=m.value;n&&n.contains(t.target)||e&&e.contains(t.target)||(o.value=!1)},h=()=>{const t=f.value;if(!t)return;const n=t.getBoundingClientRect(),e=128,d=Math.min(Math.max(0,n.right-e),window.innerWidth-e),p=Math.min(n.bottom+8,window.innerHeight-8);v.value={left:`${d+window.scrollX}px`,top:`${p+window.scrollY}px`}};C(()=>{document.addEventListener("click",b),window.addEventListener("scroll",c,!0),window.addEventListener("resize",c)}),x(()=>{document.removeEventListener("click",b),window.removeEventListener("scroll",c,!0),window.removeEventListener("resize",c)});const c=()=>{o.value&&h()};return(t,n)=>(l(),i("div",$,[s("button",{onClick:k,disabled:r.disabled,class:"text-black text-sm font-bold px-4 my-auto h-full rounded-md cursor-pointer flex items-center gap-1",ref_key:"buttonRef",ref:f},[...n[0]||(n[0]=[s("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[s("path",{d:"M9.33317 14.6667C9.33317 13.9303 8.73622 13.3333 7.99984 13.3333C7.26346 13.3333 6.6665 13.9303 6.6665 14.6667C6.6665 15.403 7.26346 16 7.99984 16C8.73622 16 9.33317 15.403 9.33317 14.6667Z",fill:"black"}),s("path",{d:"M9.33317 7.99967C9.33317 7.26329 8.73622 6.66634 7.99984 6.66634C7.26346 6.66634 6.6665 7.26329 6.6665 7.99967C6.6665 8.73605 7.26346 9.33301 7.99984 9.33301C8.73622 9.33301 9.33317 8.73605 9.33317 7.99967Z",fill:"black"}),s("path",{d:"M9.33317 1.33366C9.33317 0.597279 8.73622 0.000325203 7.99984 0.000325203C7.26346 0.000325203 6.6665 0.597279 6.6665 1.33366C6.6665 2.07004 7.26346 2.66699 7.99984 2.66699C8.73622 2.66699 9.33317 2.07004 9.33317 1.33366Z",fill:"black"})],-1)])],8,A),(l(),M(L,{to:"body"},[o.value?(l(),i("div",{key:0,ref_key:"menuRef",ref:m,class:"absolute w-32 bg-white rounded-md shadow-lg border border-gray-200 z-50",style:_(v.value)},[(l(!0),i(g,null,z(a.actions,(e,d)=>(l(),i(g,{key:d},[s("button",{onClick:p=>y(e),class:E(["block w-full text-right px-4 py-2 text-sm transition",e.class||"text-black hover:bg-gray-100"])},B(e.label),11,S),d<a.actions.length-1?(l(),i("div",W)):w("",!0)],64))),128))],4)):w("",!0)]))]))}};export{F as _};
