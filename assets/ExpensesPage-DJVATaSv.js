import{r,c as v,o as c,a as e,t as f,d as A,b as te,e as se,h as B,i as ae,f as D,l as g,u as j,_ as N,z as K,F as le,A as oe,q as ve,j as fe,p as z,s as Y,g as J,B as me,C as xe,v as X,w as he,x as ye}from"./index-_9PKim95.js";import{m as ne}from"./vue3-apexcharts-DyC-tN7u.js";import{c as be,a as ee,d as we,u as _e,_ as T}from"./InputField.vue_vue_type_script_setup_true_lang-CLy_KAzG.js";const Ce={class:"flex flex-col gap-y-4 w-full bg-white p-4 rounded-[12px]"},$e={class:"flex justify-between items-center w-full"},ke={class:"flex gap-x-2 items-center"},Ee={class:"text-sm text-gray-700",style:{"font-family":"Inter","font-weight":"700","font-style":"Bold","font-size":"24px","leading-trim":"CAP_HEIGHT","line-height":"100%","letter-spacing":"0%"}},De={class:"flex gap-x-2 items-center"},He={class:"text-sm text-black",style:{"font-family":"Almarai","font-weight":"400","font-style":"Regular","font-size":"16px","leading-trim":"CAP_HEIGHT","line-height":"100%","letter-spacing":"0%","text-align":"right"}},Me={style:{"font-family":"Inter","font-weight":"700","font-style":"Bold","font-size":"24px","leading-trim":"CAP_HEIGHT","line-height":"100%","letter-spacing":"0%"}},ze={__name:"totalExpensesCard",props:{totalExpenses:{type:Number,required:!0},totalExpensesCount:{type:Number,required:!0}},setup(m){r(0);const u=m;return(o,n)=>(c(),v("div",Ce,[n[2]||(n[2]=e("div",{class:"flex justify-between items-center w-full"},[e("div",{class:"flex gap-x-2 items-center"},[e("span",{class:"text-sm text-black",style:{"font-family":"Almarai","font-weight":"400","font-style":"Regular","font-size":"16px","leading-trim":"NONE","line-height":"100%","letter-spacing":"0%","text-align":"right"}},"إجمالي المصروفات")])],-1)),e("div",$e,[e("div",ke,[e("span",Ee,f(u.totalExpenses),1),n[0]||(n[0]=e("span",{class:"text-[#494949]"},"ج.م",-1))]),e("div",De,[e("div",He,[n[1]||(n[1]=A(" عدد المصروفات ",-1)),e("span",Me,f(u.totalExpensesCount),1)])])])]))}},Ve="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M19.0442%200.883386C18.4776%200.317717%2017.7098%200%2016.9092%200C16.1086%200%2015.3407%200.317717%2014.7742%200.883386L1.22085%2014.4367C0.832722%2014.8227%200.524981%2015.2817%200.315428%2015.7874C0.105874%2016.293%20-0.00133165%2016.8352%201.24844e-05%2017.3826V19.0934C1.24844e-05%2019.3144%200.0878099%2019.5264%200.24409%2019.6826C0.40037%2019.8389%200.612332%2019.9267%200.833346%2019.9267H2.54418C3.09148%2019.9283%203.63365%2019.8212%204.13931%2019.6118C4.64496%2019.4024%205.10406%2019.0948%205.49001%2018.7067L19.0442%205.15255C19.6096%204.58605%2019.9271%203.81836%2019.9271%203.01797C19.9271%202.21758%2019.6096%201.44989%2019.0442%200.883386ZM4.31168%2017.5284C3.84168%2017.9953%203.20665%2018.2581%202.54418%2018.2601H1.66668V17.3826C1.66584%2017.0541%201.73014%2016.7288%201.85588%2016.4254C1.98161%2016.122%202.16628%2015.8466%202.39918%2015.6151L12.685%205.32922L14.6017%207.24589L4.31168%2017.5284ZM17.865%203.97422L15.7767%206.06339L13.86%204.15089L15.9492%202.06172C16.075%201.93614%2016.2244%201.83658%2016.3887%201.76873C16.553%201.70087%2016.7291%201.66604%2016.9069%201.66624C17.0847%201.66643%2017.2607%201.70164%2017.4249%201.76985C17.5891%201.83807%2017.7382%201.93795%2017.8638%202.0638C17.9893%202.18965%2018.0889%202.339%2018.1568%202.50333C18.2246%202.66766%2018.2594%202.84374%2018.2592%203.02153C18.2591%203.19931%2018.2238%203.37532%2018.1556%203.5395C18.0874%203.70367%2017.9875%203.85281%2017.8617%203.97839L17.865%203.97422Z'%20fill='%23494949'/%3e%3c/svg%3e",Se="data:image/svg+xml,%3csvg%20width='20'%20height='20'%20viewBox='0%200%2020%2020'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_587_138)'%3e%3cpath%20d='M17.5%203.33333H14.9166C14.7232%202.39284%2014.2115%201.54779%2013.4677%200.940598C12.7239%200.333408%2011.7935%200.0012121%2010.8333%200L9.16663%200C8.20646%200.0012121%207.27606%200.333408%206.53225%200.940598C5.78844%201.54779%205.27671%202.39284%205.08329%203.33333H2.49996C2.27895%203.33333%202.06698%203.42113%201.9107%203.57741C1.75442%203.73369%201.66663%203.94565%201.66663%204.16667C1.66663%204.38768%201.75442%204.59964%201.9107%204.75592C2.06698%204.9122%202.27895%205%202.49996%205H3.33329V15.8333C3.33462%2016.938%203.77403%2017.997%204.55514%2018.7782C5.33626%2019.5593%206.3953%2019.9987%207.49996%2020H12.5C13.6046%2019.9987%2014.6637%2019.5593%2015.4448%2018.7782C16.2259%2017.997%2016.6653%2016.938%2016.6666%2015.8333V5H17.5C17.721%205%2017.9329%204.9122%2018.0892%204.75592C18.2455%204.59964%2018.3333%204.38768%2018.3333%204.16667C18.3333%203.94565%2018.2455%203.73369%2018.0892%203.57741C17.9329%203.42113%2017.721%203.33333%2017.5%203.33333ZM9.16663%201.66667H10.8333C11.3502%201.6673%2011.8542%201.82781%2012.2763%202.1262C12.6984%202.42459%2013.0178%202.84624%2013.1908%203.33333H6.80913C6.98211%202.84624%207.30154%202.42459%207.72362%202.1262C8.14569%201.82781%208.64973%201.6673%209.16663%201.66667ZM15%2015.8333C15%2016.4964%2014.7366%2017.1323%2014.2677%2017.6011C13.7989%2018.0699%2013.163%2018.3333%2012.5%2018.3333H7.49996C6.83692%2018.3333%206.20103%2018.0699%205.73219%2017.6011C5.26335%2017.1323%204.99996%2016.4964%204.99996%2015.8333V5H15V15.8333Z'%20fill='%23D90909'/%3e%3cpath%20d='M8.33333%2014.9997C8.55435%2014.9997%208.76631%2014.9119%208.92259%2014.7556C9.07887%2014.5993%209.16667%2014.3874%209.16667%2014.1663V9.16634C9.16667%208.94533%209.07887%208.73337%208.92259%208.57709C8.76631%208.42081%208.55435%208.33301%208.33333%208.33301C8.11232%208.33301%207.90036%208.42081%207.74408%208.57709C7.5878%208.73337%207.5%208.94533%207.5%209.16634V14.1663C7.5%2014.3874%207.5878%2014.5993%207.74408%2014.7556C7.90036%2014.9119%208.11232%2014.9997%208.33333%2014.9997Z'%20fill='%23D90909'/%3e%3cpath%20d='M11.6667%2014.9997C11.8877%2014.9997%2012.0997%2014.9119%2012.256%2014.7556C12.4122%2014.5993%2012.5%2014.3874%2012.5%2014.1663V9.16634C12.5%208.94533%2012.4122%208.73337%2012.256%208.57709C12.0997%208.42081%2011.8877%208.33301%2011.6667%208.33301C11.4457%208.33301%2011.2337%208.42081%2011.0775%208.57709C10.9212%208.73337%2010.8334%208.94533%2010.8334%209.16634V14.1663C10.8334%2014.3874%2010.9212%2014.5993%2011.0775%2014.7556C11.2337%2014.9119%2011.4457%2014.9997%2011.6667%2014.9997Z'%20fill='%23D90909'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_587_138'%3e%3crect%20width='20'%20height='20'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e",Ae={class:"bg-white border border-gray-200 p-4 rounded-[12px]"},je={class:"flex gap-y-2 w-full"},Le={class:"flex flex-col gap-y-3 justify-between items-start w-full"},Te={class:"flex gap-x-2 items-center"},Be={class:"text-sm text-black",style:{"font-family":"Inter","font-weight":"700","font-style":"Bold","font-size":"20px","leading-trim":"CAP_HEIGHT","line-height":"100%","letter-spacing":"0%"}},Ne={class:"flex gap-x-2 items-center"},Fe={class:"text-sm text-black",style:{"font-family":"Almarai","font-weight":"400","font-style":"Regular","font-size":"18px","leading-trim":"CAP_HEIGHT","line-height":"100%","letter-spacing":"0%","text-align":"right"}},Ie={class:"flex gap-x-2 items-center"},Pe={class:"text-sm text-gray-700",style:{"font-family":"Almarai","font-weight":"400","font-style":"Regular","font-size":"14px","leading-trim":"CAP_HEIGHT","line-height":"100%","letter-spacing":"0%","text-align":"right"}},We={class:"flex justify-between items-center gap-8"},Oe={key:0,class:"flex py-2 w-full justify-between"},Re={class:"flex justify-center items-center"},qe={class:"text-sm text-black",style:{"font-family":"Almarai","font-weight":"400","font-style":"Regular","font-size":"18px","leading-trim":"CAP_HEIGHT","line-height":"100%","letter-spacing":"0%","text-align":"right"}},Ge={__name:"infoExpensesCard",props:{data:{type:Array,required:!0,default:()=>[]}},emits:["update","delete","navigate"],setup(m,{emit:u}){const o=u,n=m;r(0);const b=()=>n.data.transaction!=null,w=()=>{const s=n.data.transaction?.user_account?.role;return s?s==="trader"?"انتقل الي التاجر":s==="driver"?"انتقل الي المندوب":!1:!1};return(s,a)=>(c(),v("div",Ae,[e("div",je,[e("div",Le,[e("div",Te,[e("span",Be,f(n.data.cost),1),a[3]||(a[3]=e("span",{class:"text-[#494949]"},"ج.م",-1))]),e("div",Ne,[e("span",Fe,f(n.data.description),1)]),e("div",Ie,[e("span",Pe,f(n.data.date),1)])]),e("div",We,[e("button",{class:"cursor-pointer",onClick:a[0]||(a[0]=x=>o("update",n.data.id))},[...a[4]||(a[4]=[e("img",{src:Ve,alt:""},null,-1)])]),e("button",{class:"cursor-pointer",onClick:a[1]||(a[1]=x=>o("delete",n.data))},[...a[5]||(a[5]=[e("img",{src:Se,alt:""},null,-1)])])])]),b()?(c(),v("div",Oe,[e("div",Re,[e("span",qe,"مرتبطه بمعاملة مالية خاصة ب"+f(n.data.transaction.user_account.full_name),1)]),e("button",{onClick:a[2]||(a[2]=x=>s.$emit("navigate",n.data)),class:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white font-medium rounded-lg shadow-sm hover:bg-blue-700 transition-colors duration-200 focus:outline-none focus:ring-2 focus:ring-blue-300"},f(w()),1)])):te("",!0)]))}},Ze={class:"p-4 bg-white rounded-2xl shadow-sm"},Ue=se({__name:"MounthlyChart",props:{data:{type:Array,required:!0,default:()=>[]}},setup(m){const u=m,o=r(null),n=r(0);B(()=>{if(o.value){const s=()=>{n.value=o.value.clientWidth},a=new ResizeObserver(s);a.observe(o.value),s(),ae(()=>a.disconnect())}});const b=D(()=>[{name:"الإجمالي",data:u.data.map(s=>s.total)}]),w=D(()=>({chart:{toolbar:{show:!1},animations:{enabled:!0}},plotOptions:{bar:{horizontal:!1,borderRadius:6,barHeight:"60%",columnWidth:"10%"}},colors:["#084CC2"],grid:{strokeDashArray:3},dataLabels:{enabled:!1},xaxis:{categories:u.data.map(s=>s.month),labels:{style:{fontSize:"14px",fontWeight:500}}},yaxis:{labels:{formatter:s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s.toString(),style:{fontSize:"14px",fontWeight:500}}},tooltip:{custom:({series:s,seriesIndex:a,dataPointIndex:x,w:V})=>{const $=V.globals.labels[x],k=s[a][x];return`
      <div class="px-3 py-2 text-sm  ">
        <div class="text-right"><strong>الشهر:</strong> ${$}</div>
        <div class="text-right"><strong>الإجمالي:</strong> ${k.toLocaleString()}</div>
      </div>
    `}}}));return(s,a)=>(c(),v("div",Ze,[a[0]||(a[0]=e("h2",{class:"text-start text-lg font-bold mb-2"},"شهريا",-1)),g(j(ne),{type:"bar",height:"300",options:w.value,series:b.value},null,8,["options","series"])]))}}),Qe=N(Ue,[["__scopeId","data-v-c8e93dfb"]]),Ke={class:"p-4 bg-white rounded-2xl shadow-sm"},Ye=se({__name:"YearlyChart",props:{data:{type:Array,required:!0,default:()=>[]}},setup(m){const u=m,o=r(null),n=r(0);B(()=>{if(o.value){const s=()=>{n.value=o.value.clientWidth},a=new ResizeObserver(s);a.observe(o.value),s(),ae(()=>a.disconnect())}});const b=D(()=>[{name:"الإجمالي",data:u.data.map(s=>s.total)}]),w=D(()=>({chart:{toolbar:{show:!1},animations:{enabled:!0}},plotOptions:{bar:{horizontal:!1,borderRadius:6,barHeight:"60%",columnWidth:"40%"}},colors:["#E55D00"],grid:{strokeDashArray:3},dataLabels:{enabled:!1},xaxis:{categories:u.data.map(s=>s.year),labels:{style:{fontSize:"14px",fontWeight:500}}},yaxis:{labels:{formatter:s=>s>=1e6?`${(s/1e6).toFixed(1)}M`:s>=1e3?`${(s/1e3).toFixed(0)}K`:s.toString(),style:{fontSize:"14px",fontWeight:500}}},tooltip:{custom:({series:s,seriesIndex:a,dataPointIndex:x,w:V})=>{const $=V.globals.labels[x],k=s[a][x];return`
      <div class="px-3 py-2 text-sm  ">
        <div class="text-right"><strong>السنة:</strong> ${$}</div>
        <div class="text-right"><strong>الإجمالي:</strong> ${k.toLocaleString()}</div>
      </div>
    `}}}));return(s,a)=>(c(),v("div",Ke,[a[0]||(a[0]=e("h2",{class:"text-start text-lg font-bold mb-2"},"سنوياً",-1)),g(j(ne),{type:"bar",height:"300",options:w.value,series:b.value},null,8,["options","series"])]))}}),Je=N(Ye,[["__scopeId","data-v-f7a78c4e"]]),Xe={class:"w-full flex flex-col gap-y-4 overflow-y-auto"},et={class:"grid grid-cols-2 gap-3 w-full"},tt={__name:"SkeletonLoader",setup(m){return(u,o)=>(c(),v("div",Xe,[o[1]||(o[1]=K('<div class="flex justify-between items-center w-full animate-pulse" data-v-70ca5ec0><div class="h-8 bg-gray-300 rounded w-32" data-v-70ca5ec0></div><div class="h-10 bg-gray-300 rounded w-40" data-v-70ca5ec0></div></div><div class="bg-white rounded-lg shadow-sm p-6 animate-pulse" data-v-70ca5ec0><div class="flex justify-between items-center" data-v-70ca5ec0><div class="space-y-3" data-v-70ca5ec0><div class="h-4 bg-gray-300 rounded w-24" data-v-70ca5ec0></div><div class="h-6 bg-gray-300 rounded w-32" data-v-70ca5ec0></div></div><div class="space-y-3" data-v-70ca5ec0><div class="h-4 bg-gray-300 rounded w-24" data-v-70ca5ec0></div><div class="h-6 bg-gray-300 rounded w-20" data-v-70ca5ec0></div></div></div></div><div class="grid grid-cols-12 gap-4" data-v-70ca5ec0><div class="col-span-12 lg:col-span-7 px-5 bg-white rounded-lg shadow-sm p-6 animate-pulse" data-v-70ca5ec0><div class="h-6 bg-gray-300 rounded w-32 mb-4" data-v-70ca5ec0></div><div class="h-64 bg-gray-300 rounded w-full" data-v-70ca5ec0></div></div><div class="col-span-12 lg:col-span-5 px-5 bg-white rounded-lg shadow-sm p-6 animate-pulse" data-v-70ca5ec0><div class="h-6 bg-gray-300 rounded w-32 mb-4" data-v-70ca5ec0></div><div class="h-64 bg-gray-300 rounded w-full" data-v-70ca5ec0></div></div></div>',3)),e("div",et,[(c(),v(le,null,oe(4,n=>e("div",{key:n,class:"col-span-2 lg:col-span-1 bg-white rounded-lg shadow-sm p-6 animate-pulse"},[...o[0]||(o[0]=[K('<div class="flex justify-between items-start mb-4" data-v-70ca5ec0><div class="space-y-2" data-v-70ca5ec0><div class="h-4 bg-gray-300 rounded w-24" data-v-70ca5ec0></div><div class="h-6 bg-gray-300 rounded w-32" data-v-70ca5ec0></div></div><div class="flex gap-2" data-v-70ca5ec0><div class="h-8 w-8 bg-gray-300 rounded-full" data-v-70ca5ec0></div><div class="h-8 w-8 bg-gray-300 rounded-full" data-v-70ca5ec0></div></div></div><div class="space-y-2 mt-4" data-v-70ca5ec0><div class="h-3 bg-gray-300 rounded w-full" data-v-70ca5ec0></div><div class="h-3 bg-gray-300 rounded w-3/4" data-v-70ca5ec0></div></div>',2)])])),64))]),o[2]||(o[2]=e("div",{class:"flex justify-center items-center mt-auto mb-5 gap-3 animate-pulse"},[e("div",{class:"h-10 bg-gray-300 rounded w-24"}),e("div",{class:"h-10 bg-gray-300 rounded w-40"}),e("div",{class:"h-10 bg-gray-300 rounded w-24"})],-1))]))}},st=N(tt,[["__scopeId","data-v-70ca5ec0"]]),at={key:1,class:"w-full flex flex-col gap-y-4 overflow-y-auto"},lt={class:"grid grid-cols-12 gap-4"},ot={class:"grid grid-cols-2 gap-3 w-full"},nt={key:0,class:"flex justify-center items-center mt-auto mb-5 gap-3 select-none"},rt=["disabled"],it={class:"flex items-center gap-3 px-4 py-2 bg-white rounded-lg border border-gray-200 shadow-sm"},dt={class:"flex items-center gap-2"},ct={class:"text-lg font-bold min-w-8 text-center"},ut={class:"text-lg font-bold text-gray-800 min-w-8 text-center"},pt={class:"hidden md:flex items-center gap-1 text-xs text-gray-500 border-r border-gray-200 pr-3"},gt={class:"font-medium"},vt=["disabled"],ft={class:"flex flex-col gap-y-1 pt-3"},mt={class:"flex justify-end items-center w-full gap-2 mt-4"},xt=["disabled"],ht={key:0},yt={key:1},Ct={__name:"ExpensesPage",setup(m){const u=ve(),o=fe(),n=()=>new Date().toISOString().split("T")[0],b=be({cost:we().transform((l,t)=>t===""?void 0:l).required("المبلغ مطلوب").positive("يجب أن يكون المبلغ أكبر من 0").typeError("يجب أن يكون المبلغ رقماً"),description:ee().required("سبب الصرف مطلوب"),date:ee().required("التاريخ مطلوب")}),{handleSubmit:w,resetForm:s,setValues:a,setFieldValue:x,errors:V}=_e({validationSchema:b,initialValues:{cost:"",description:"",date:n()}}),$=r([]),k=r([]),F=r([]),I=r(0),P=r(0),S=r(""),_=r(!1),E=r(!1),h=r(!1),y=r(null),W=r(""),O=r(""),R=r(""),C=r({start:null,end:null}),re=l=>{S.value=l.search,C.value=l.date,H(1)},H=async(l=1)=>{h.value=!0;try{const t={page:l,page_size:p.value.pageSize,search:S.value||void 0};C.value.start&&(t.start_date=C.value.start),C.value.end&&(t.end_date=C.value.end);const d=await z.get("transactions/expenses/",{params:t});$.value=d.data.results.expenses,k.value=d.data.results.statistics.monthly,F.value=d.data.results.statistics.yearly,I.value=d.data.results.statistics.total_expenses,P.value=d.data.count,p.value={count:d?.data?.count||0,next:d.data.next,previous:d.data.previous,total_pages:Math.ceil((d.data.count||0)/10),page:l,pageSize:10}}catch(t){o.error(t.response?.data?.message||" حدث خطأ ما في جلب البيانات")}finally{h.value=!1}},p=r({count:0,next:null,previous:null,page:1,pageSize:10}),M=D(()=>p.value.page||1),q=D(()=>Math.max(1,Math.ceil((p.value.count||0)/(p.value.pageSize||10))));function G(l){l>=1&&l<=q.value&&H(l)}const L=l=>{const t=["٠","١","٢","٣","٤","٥","٦","٧","٨","٩"];return l.toString().replace(/[0-9]/g,d=>t[d])},ie=()=>{y.value=null,s({values:{cost:"",description:"",date:n()}}),_.value=!0},Z=()=>{_.value=!1,E.value=!1},de=l=>{y.value=l.id,O.value=l.cost,R.value=l.description,E.value=!0},U=w(async l=>{h.value=!0;try{y.value?(await z.patch(`transactions/expenses/${y.value}/`,l),o.success(" تم تعديل المصروف بنجاح")):(await z.post("transactions/expenses/",l),o.success("تم إضافة مصروف جديد بنجاح")),_.value=!1,H(M.value)}catch(t){o.error(t.response?.data?.message||" حدث خطأ ما")}finally{h.value=!1}}),ce=async l=>{h.value=!0;try{await z.delete(`transactions/expenses/${l}/`),E.value=!1,H(M.value),o.success("تم حذف المصروف بنجاح")}catch(t){o.error(t.response?.data?.message||" حدث خطأ ما أثناء الحذف")}finally{h.value=!1,E.value=!1}},ue=async l=>{try{const{data:t}=await z.get(`transactions/expenses/${l}/`);y.value=l,W.value=t.cost,a({cost:t.cost,description:t.description,date:t.date}),_.value=!0}catch(t){console.error("Error fetching single expense:",t)}},pe=l=>{const t=l.transaction?.user_account?.role;if(!t)return;const d=t==="trader"?"view-one-merchant":"view-one-delivery";u.push({name:d,params:{id:l.transaction.user_account.id}})};return B(()=>{H(p.value.page)}),(l,t)=>{const d=Y("GenericModal"),ge=Y("DeletModal");return h.value?(c(),J(st,{key:0})):(c(),v("div",at,[g(me,{title:"المصروفات",buttonText:"إضافة مصروف جديد",onBtnClick:ie,type:"1"}),g(ze,{totalExpenses:I.value,totalExpensesCount:P.value},null,8,["totalExpenses","totalExpensesCount"]),e("div",lt,[g(Qe,{class:"col-span-12 lg:col-span-7 px-5",data:k.value},null,8,["data"]),g(Je,{class:"col-span-12 lg:col-span-5 px-5",data:F.value},null,8,["data"])]),g(xe,{searchQuery:S.value,"onUpdate:searchQuery":t[0]||(t[0]=i=>S.value=i),selectedDate:C.value,"onUpdate:selectedDate":t[1]||(t[1]=i=>C.value=i),showDateFilter:!0,searchPlaceholder:"ابحث في المصروفات...",onFilter:re},null,8,["searchQuery","selectedDate"]),t[17]||(t[17]=e("div",{class:"flex justify-between items-center w-full pt-8"},[e("div",{class:"font-bold text-xl"},"قائمة المصروفات")],-1)),e("div",ot,[(c(!0),v(le,null,oe($.value,i=>(c(),J(Ge,{data:i,key:i.id,onUpdate:Q=>ue(i.id),onDelete:Q=>de(i),onNavigate:Q=>pe(i),class:"col-span-2 lg:col-span-1"},null,8,["data","onUpdate","onDelete","onNavigate"]))),128))]),p.value?(c(),v("div",nt,[e("button",{disabled:!p.value.previous,onClick:t[2]||(t[2]=i=>G(M.value-1)),class:X(["flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 shadow-sm",p.value.previous?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 hover:border-gray-400 hover:shadow-md active:scale-95":"text-gray-400 bg-gray-50 border border-gray-200 cursor-not-allowed"])},[...t[9]||(t[9]=[e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M9 5l7 7-7 7"})],-1),e("span",{class:"hidden sm:inline"},"السابق",-1)])],10,rt),e("div",it,[e("div",dt,[t[10]||(t[10]=e("span",{class:"text-sm text-gray-600"},"صفحة",-1)),e("span",ct,f(L(M.value)),1),t[11]||(t[11]=e("span",{class:"text-sm text-gray-600"},"من",-1)),e("span",ut,f(L(q.value)),1)]),e("div",pt,[t[12]||(t[12]=e("span",null,"إجمالي العناصر:",-1)),e("span",gt,f(L(p.value.count)),1)])]),e("button",{disabled:!p.value.next,onClick:t[3]||(t[3]=i=>G(M.value+1)),class:X(["flex items-center gap-2 px-4 py-2.5 rounded-lg text-sm font-medium transition-all duration-200 shadow-sm",p.value.next?"text-gray-700 bg-white border border-gray-300 hover:bg-gray-50 hover:border-gray-400 hover:shadow-md active:scale-95":"text-gray-400 bg-gray-50 border border-gray-200 cursor-not-allowed"])},[...t[13]||(t[13]=[e("span",{class:"hidden sm:inline"},"التالي",-1),e("svg",{class:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M15 19l-7-7 7-7"})],-1)])],10,vt)])):te("",!0),g(d,{modelValue:_.value,"onUpdate:modelValue":t[6]||(t[6]=i=>_.value=i),title:y.value?`تعديل بيانات المصروف -   ${W.value}   `:" إضافة مصروف جديد",description:"ادخل معلومات المصروف لتاكيد الإضافة","show-header-icon":!0,size:"large","show-footer":!1,onClose:Z},{default:he(()=>[e("form",{action:"",onSubmit:t[5]||(t[5]=ye((...i)=>j(U)&&j(U)(...i),["prevent"]))},[e("div",ft,[t[14]||(t[14]=e("label",{for:"cost",class:"text-gray-700 text-sm text-start w-full"},[A(" مبلغ المصروف(ج.م)"),e("span",{class:"text-red-500"},"*")],-1)),g(T,{name:"cost",type:"number",placeholder:"مبلغ المصروف(ج.م)",class:"mt-2"}),t[15]||(t[15]=e("label",{for:"description",class:"text-gray-700 text-sm text-start mt-4"},[A(" سبب الصرف"),e("span",{class:"text-red-500"},"*")],-1)),g(T,{name:"description",type:"text",placeholder:"سبب الصرف",class:"mt-2"}),t[16]||(t[16]=e("label",{for:"date",class:"text-gray-700 text-sm text-start mt-4"},[A(" التاريخ "),e("span",{class:"text-red-500"},"*")],-1)),g(T,{name:"date",type:"date",placeholder:"التاريخ",class:"mt-2"}),e("div",mt,[e("div",{onClick:t[4]||(t[4]=i=>_.value=!1),class:"w-fit px-8 py-2 inline-flex cursor-pointer min-h-[48px] text-black bg-[#DEDEDE] rounded-[12px] items-center"}," إلغاء "),e("button",{class:"w-[160px] px-4 py-2 min-h-[48px] text-white disabled:opacity-50 disabled:cursor-not-allowed bg-[#0E5895] rounded-[12px]",type:"submit",disabled:h.value},[h.value?(c(),v("span",ht," جاري .. ")):(c(),v("span",yt,f(y.value?"تأكيد التعديل":"تأكيد الإضافة"),1))],8,xt)])])],32)]),_:1},8,["modelValue","title"]),g(ge,{modelValue:E.value,"onUpdate:modelValue":t[7]||(t[7]=i=>E.value=i),title:"هل انت متأكد انك تريد حذف المصروف ("+O.value+" - "+R.value+")",description:"سيؤدي ذلك الي حذف كل المعلومات المرتبطة به","show-confirm-button":!0,"show-cancel-button":!0,onClose:Z,onConfirm:t[8]||(t[8]=i=>ce(y.value))},null,8,["modelValue","title"])]))}}};export{Ct as default};
